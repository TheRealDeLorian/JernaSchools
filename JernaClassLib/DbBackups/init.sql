--
-- PostgreSQL database dump
--

-- Dumped from database version 16.9 (Debian 16.9-1.pgdg120+1)
-- Dumped by pg_dump version 17.4

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
--SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO "user";

--
-- Name: admin_history; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.admin_history (
    id integer NOT NULL,
    purchase_id integer,
    fulfilled_date timestamp without time zone NOT NULL,
    notes character varying(1000)
);


ALTER TABLE public.admin_history OWNER TO "user";

--
-- Name: admin_history_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.admin_history ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.admin_history_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: admin_history_item; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.admin_history_item (
    id integer NOT NULL,
    admin_history_id integer,
    item_id integer
);


ALTER TABLE public.admin_history_item OWNER TO "user";

--
-- Name: admin_history_item_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.admin_history_item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.admin_history_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_code; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.auth_code (
    id integer NOT NULL,
    code character varying(16) NOT NULL,
    is_valid_until date
);


ALTER TABLE public.auth_code OWNER TO "user";

--
-- Name: auth_code_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.auth_code ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_code_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cart; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.cart (
    id integer NOT NULL,
    user_id integer
);


ALTER TABLE public.cart OWNER TO "user";

--
-- Name: cart_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.cart ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cart_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: cart_item; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.cart_item (
    id integer NOT NULL,
    cart_id integer,
    item_id integer,
    quantity integer NOT NULL,
    contact_info text
);


ALTER TABLE public.cart_item OWNER TO "user";

--
-- Name: cart_item_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.cart_item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cart_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: item; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.item (
    id integer NOT NULL,
    item_name character varying(80) NOT NULL,
    price money NOT NULL,
    description text,
    image bytea,
    isdisplayed boolean NOT NULL,
    mediafile bytea,
    is_digital boolean,
    is_physical boolean,
    period_length_id integer NOT NULL
);


ALTER TABLE public.item OWNER TO "user";

--
-- Name: item_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: period_length; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.period_length (
    id integer NOT NULL,
    display_name character varying(60),
    timespan interval NOT NULL
);


ALTER TABLE public.period_length OWNER TO "user";

--
-- Name: period_length_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.period_length ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.period_length_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: purchase; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.purchase (
    id integer NOT NULL,
    user_id integer,
    purchase_date timestamp without time zone NOT NULL,
    taxpercent double precision NOT NULL
);


ALTER TABLE public.purchase OWNER TO "user";

--
-- Name: purchase_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.purchase ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.purchase_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: purchase_item; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.purchase_item (
    id integer NOT NULL,
    purchase_id integer,
    item_id integer,
    quantity integer NOT NULL
);


ALTER TABLE public.purchase_item OWNER TO "user";

--
-- Name: purchase_item_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.purchase_item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.purchase_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tag; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.tag (
    id integer NOT NULL,
    tag_name character varying(80),
    description text
);


ALTER TABLE public.tag OWNER TO "user";

--
-- Name: tag_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.tag ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tag_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tag_item; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.tag_item (
    id integer NOT NULL,
    tag_id integer,
    item_id integer
);


ALTER TABLE public.tag_item OWNER TO "user";

--
-- Name: tag_item_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.tag_item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tag_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: temp_code; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.temp_code (
    id integer NOT NULL,
    code character varying(16) NOT NULL,
    createdate timestamp without time zone NOT NULL,
    userid integer NOT NULL
);


ALTER TABLE public.temp_code OWNER TO "user";

--
-- Name: temp_code_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.temp_code ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.temp_code_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tools_for_parents_item; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.tools_for_parents_item (
    id integer NOT NULL,
    sub_id integer NOT NULL,
    item_id integer NOT NULL
);


ALTER TABLE public.tools_for_parents_item OWNER TO "user";

--
-- Name: tools_for_parents_item_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.tools_for_parents_item ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tools_for_parents_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: transaction; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.transaction (
    id integer NOT NULL,
    purchase_price money,
    purchase_id integer
);


ALTER TABLE public.transaction OWNER TO "user";

--
-- Name: transaction_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.transaction ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.transaction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public."user" (
    id integer NOT NULL,
    username character varying(64) NOT NULL,
    email character varying(80) NOT NULL,
    notes text,
    isadmin boolean DEFAULT false
);


ALTER TABLE public."user" OWNER TO "user";

--
-- Name: user_auth_code; Type: TABLE; Schema: public; Owner: user
--

CREATE TABLE public.user_auth_code (
    id integer NOT NULL,
    user_id integer,
    auth_code_id integer
);


ALTER TABLE public.user_auth_code OWNER TO "user";

--
-- Name: user_auth_code_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public.user_auth_code ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_auth_code_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_id_seq; Type: SEQUENCE; Schema: public; Owner: user
--

ALTER TABLE public."user" ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20250516133854_first	8.0.4
\.


--
-- Data for Name: admin_history; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.admin_history (id, purchase_id, fulfilled_date, notes) FROM stdin;
\.


--
-- Data for Name: admin_history_item; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.admin_history_item (id, admin_history_id, item_id) FROM stdin;
\.


--
-- Data for Name: auth_code; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.auth_code (id, code, is_valid_until) FROM stdin;
\.


--
-- Data for Name: cart; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.cart (id, user_id) FROM stdin;
\.


--
-- Data for Name: cart_item; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.cart_item (id, cart_id, item_id, quantity, contact_info) FROM stdin;
\.


--
-- Data for Name: item; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.item (id, item_name, price, description, image, isdisplayed, mediafile, is_digital, is_physical, period_length_id) FROM stdin;
1	"Math Tutoring Session"	50.00	"One hour of personalized math tutoring."	\N	t	\N	t	f	1
2	"Science Lab Kit"	35.00	"Hands-on science kit for home experiments."	\N	t	\N	f	t	2
3	"Online Coding Course"	99.99	"Access to a 6-week beginner coding course."	\N	t	\N	t	f	3
4	"Art Supplies Pack"	20.00	"Starter pack of art supplies for students."	\N	t	\N	f	t	2
5	"Music Lesson (30 min)"	30.00	"Half-hour private music lesson."	\N	t	\N	t	f	1
6	"History eBook"	10.00	"Downloadable eBook covering world history."	\N	t	\N	t	f	4
7	"Physical Education Kit"	25.00	"PE kit including jump rope and resistance bands."	\N	t	\N	f	t	2
8	"Language Learning App Access"	15.00	"One-month access to language learning app."	\N	t	\N	t	f	1
9	"Chemistry Set"	40.00	"Safe chemistry set for home experiments."	\N	t	\N	f	t	2
10	"Creative Writing Workshop"	60.00	"Four-week online creative writing workshop."	\N	t	\N	t	f	3
\.


--
-- Data for Name: period_length; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.period_length (id, display_name, timespan) FROM stdin;
1	"One Session"	'1 hour'
2	"One Month"	'1 month'
3	"Six Weeks"	'6 weeks'
4	"Download"	'0'
\.


--
-- Data for Name: purchase; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.purchase (id, user_id, purchase_date, taxpercent) FROM stdin;
\.


--
-- Data for Name: purchase_item; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.purchase_item (id, purchase_id, item_id, quantity) FROM stdin;
\.


--
-- Data for Name: tag; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.tag (id, tag_name, description) FROM stdin;
\.


--
-- Data for Name: tag_item; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.tag_item (id, tag_id, item_id) FROM stdin;
\.


--
-- Data for Name: temp_code; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.temp_code (id, code, createdate, userid) FROM stdin;
\.


--
-- Data for Name: tools_for_parents_item; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.tools_for_parents_item (id, sub_id, item_id) FROM stdin;
\.


--
-- Data for Name: transaction; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.transaction (id, purchase_price, purchase_id) FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public."user" (id, username, email, notes, isadmin) FROM stdin;
1	admin	admin@jernaschools.org	Administrator account	t
2	alice	alice@example.com	Test user	f
3	bob	bob@example.com	Test user	f
\.


--
-- Data for Name: user_auth_code; Type: TABLE DATA; Schema: public; Owner: user
--

COPY public.user_auth_code (id, user_id, auth_code_id) FROM stdin;
\.


--
-- Name: admin_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.admin_history_id_seq', 1, false);


--
-- Name: admin_history_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.admin_history_item_id_seq', 1, false);


--
-- Name: auth_code_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.auth_code_id_seq', 1, false);


--
-- Name: cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.cart_id_seq', 1, false);


--
-- Name: cart_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.cart_item_id_seq', 1, false);


--
-- Name: item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.item_id_seq', 1, false);


--
-- Name: period_length_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.period_length_id_seq', 1, false);


--
-- Name: purchase_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.purchase_id_seq', 1, false);


--
-- Name: purchase_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.purchase_item_id_seq', 1, false);


--
-- Name: tag_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.tag_id_seq', 1, false);


--
-- Name: tag_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.tag_item_id_seq', 1, false);


--
-- Name: temp_code_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.temp_code_id_seq', 1, false);


--
-- Name: tools_for_parents_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.tools_for_parents_item_id_seq', 1, false);


--
-- Name: transaction_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.transaction_id_seq', 1, false);


--
-- Name: user_auth_code_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.user_auth_code_id_seq', 1, false);


--
-- Name: user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: user
--

SELECT pg_catalog.setval('public.user_id_seq', 1, false);


--
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- Name: admin_history_item admin_history_item_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.admin_history_item
    ADD CONSTRAINT admin_history_item_pkey PRIMARY KEY (id);


--
-- Name: admin_history admin_history_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.admin_history
    ADD CONSTRAINT admin_history_pkey PRIMARY KEY (id);


--
-- Name: auth_code auth_code_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.auth_code
    ADD CONSTRAINT auth_code_pkey PRIMARY KEY (id);


--
-- Name: temp_code authcodes_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.temp_code
    ADD CONSTRAINT authcodes_pkey PRIMARY KEY (id);


--
-- Name: cart_item cart_item_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.cart_item
    ADD CONSTRAINT cart_item_pkey PRIMARY KEY (id);


--
-- Name: cart cart_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.cart
    ADD CONSTRAINT cart_pkey PRIMARY KEY (id);


--
-- Name: item item_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT item_pkey PRIMARY KEY (id);


--
-- Name: period_length period_length_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.period_length
    ADD CONSTRAINT period_length_pkey PRIMARY KEY (id);


--
-- Name: purchase_item purchase_item_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.purchase_item
    ADD CONSTRAINT purchase_item_pkey PRIMARY KEY (id);


--
-- Name: purchase purchase_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.purchase
    ADD CONSTRAINT purchase_pkey PRIMARY KEY (id);


--
-- Name: tag_item tag_item_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tag_item
    ADD CONSTRAINT tag_item_pkey PRIMARY KEY (id);


--
-- Name: tag tag_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tag
    ADD CONSTRAINT tag_pkey PRIMARY KEY (id);


--
-- Name: tools_for_parents_item tools_for_parents_item_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tools_for_parents_item
    ADD CONSTRAINT tools_for_parents_item_pkey PRIMARY KEY (id);


--
-- Name: transaction transaction_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.transaction
    ADD CONSTRAINT transaction_pkey PRIMARY KEY (id);


--
-- Name: user_auth_code user_auth_code_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.user_auth_code
    ADD CONSTRAINT user_auth_code_pkey PRIMARY KEY (id);


--
-- Name: user user_pkey; Type: CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT user_pkey PRIMARY KEY (id);


--
-- Name: IX_admin_history_item_admin_history_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_admin_history_item_admin_history_id" ON public.admin_history_item USING btree (admin_history_id);


--
-- Name: IX_admin_history_item_item_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_admin_history_item_item_id" ON public.admin_history_item USING btree (item_id);


--
-- Name: IX_admin_history_purchase_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_admin_history_purchase_id" ON public.admin_history USING btree (purchase_id);


--
-- Name: IX_cart_item_cart_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_cart_item_cart_id" ON public.cart_item USING btree (cart_id);


--
-- Name: IX_cart_item_item_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_cart_item_item_id" ON public.cart_item USING btree (item_id);


--
-- Name: IX_cart_user_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_cart_user_id" ON public.cart USING btree (user_id);


--
-- Name: IX_item_period_length_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_item_period_length_id" ON public.item USING btree (period_length_id);


--
-- Name: IX_purchase_item_item_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_purchase_item_item_id" ON public.purchase_item USING btree (item_id);


--
-- Name: IX_purchase_item_purchase_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_purchase_item_purchase_id" ON public.purchase_item USING btree (purchase_id);


--
-- Name: IX_purchase_user_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_purchase_user_id" ON public.purchase USING btree (user_id);


--
-- Name: IX_tag_item_item_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_tag_item_item_id" ON public.tag_item USING btree (item_id);


--
-- Name: IX_tag_item_tag_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_tag_item_tag_id" ON public.tag_item USING btree (tag_id);


--
-- Name: IX_temp_code_userid; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_temp_code_userid" ON public.temp_code USING btree (userid);


--
-- Name: IX_tools_for_parents_item_item_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_tools_for_parents_item_item_id" ON public.tools_for_parents_item USING btree (item_id);


--
-- Name: IX_tools_for_parents_item_sub_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_tools_for_parents_item_sub_id" ON public.tools_for_parents_item USING btree (sub_id);


--
-- Name: IX_transaction_purchase_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_transaction_purchase_id" ON public.transaction USING btree (purchase_id);


--
-- Name: IX_user_auth_code_auth_code_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_user_auth_code_auth_code_id" ON public.user_auth_code USING btree (auth_code_id);


--
-- Name: IX_user_auth_code_user_id; Type: INDEX; Schema: public; Owner: user
--

CREATE INDEX "IX_user_auth_code_user_id" ON public.user_auth_code USING btree (user_id);


--
-- Name: user_un; Type: INDEX; Schema: public; Owner: user
--

CREATE UNIQUE INDEX user_un ON public."user" USING btree (email);


--
-- Name: admin_history_item admin_history_item_admin_history_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.admin_history_item
    ADD CONSTRAINT admin_history_item_admin_history_id_fkey FOREIGN KEY (admin_history_id) REFERENCES public.admin_history(id);


--
-- Name: admin_history_item admin_history_item_item_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.admin_history_item
    ADD CONSTRAINT admin_history_item_item_id_fkey FOREIGN KEY (item_id) REFERENCES public.item(id);


--
-- Name: admin_history admin_history_purchase_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.admin_history
    ADD CONSTRAINT admin_history_purchase_id_fkey FOREIGN KEY (purchase_id) REFERENCES public.purchase(id);


--
-- Name: temp_code authcodes_userid_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.temp_code
    ADD CONSTRAINT authcodes_userid_fkey FOREIGN KEY (userid) REFERENCES public."user"(id);


--
-- Name: cart_item cart_item_cart_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.cart_item
    ADD CONSTRAINT cart_item_cart_id_fkey FOREIGN KEY (cart_id) REFERENCES public.cart(id);


--
-- Name: cart_item cart_item_item_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.cart_item
    ADD CONSTRAINT cart_item_item_id_fkey FOREIGN KEY (item_id) REFERENCES public.item(id);


--
-- Name: cart cart_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.cart
    ADD CONSTRAINT cart_user_id_fkey FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: item fk_period_length_id; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.item
    ADD CONSTRAINT fk_period_length_id FOREIGN KEY (period_length_id) REFERENCES public.period_length(id);


--
-- Name: purchase_item purchase_item_item_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.purchase_item
    ADD CONSTRAINT purchase_item_item_id_fkey FOREIGN KEY (item_id) REFERENCES public.item(id);


--
-- Name: purchase_item purchase_item_purchase_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.purchase_item
    ADD CONSTRAINT purchase_item_purchase_id_fkey FOREIGN KEY (purchase_id) REFERENCES public.purchase(id);


--
-- Name: purchase purchase_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.purchase
    ADD CONSTRAINT purchase_user_id_fkey FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- Name: tag_item tag_item_item_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tag_item
    ADD CONSTRAINT tag_item_item_id_fkey FOREIGN KEY (item_id) REFERENCES public.item(id);


--
-- Name: tag_item tag_item_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tag_item
    ADD CONSTRAINT tag_item_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES public.tag(id);


--
-- Name: tools_for_parents_item tools_for_parents_item_item_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tools_for_parents_item
    ADD CONSTRAINT tools_for_parents_item_item_id_fkey FOREIGN KEY (item_id) REFERENCES public.item(id);


--
-- Name: tools_for_parents_item tools_for_parents_item_sub_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.tools_for_parents_item
    ADD CONSTRAINT tools_for_parents_item_sub_id_fkey FOREIGN KEY (sub_id) REFERENCES public.item(id);


--
-- Name: transaction transaction_purchase_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.transaction
    ADD CONSTRAINT transaction_purchase_id_fkey FOREIGN KEY (purchase_id) REFERENCES public.purchase(id);


--
-- Name: user_auth_code user_auth_code_auth_code_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.user_auth_code
    ADD CONSTRAINT user_auth_code_auth_code_id_fkey FOREIGN KEY (auth_code_id) REFERENCES public.auth_code(id);


--
-- Name: user_auth_code user_auth_code_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: user
--

ALTER TABLE ONLY public.user_auth_code
    ADD CONSTRAINT user_auth_code_user_id_fkey FOREIGN KEY (user_id) REFERENCES public."user"(id);


--
-- PostgreSQL database dump complete
--

